syntax = "proto3";
package netavark_proxy;

service NetavarkProxy {
  rpc GetLease(NetworkConfig) returns (DhcpV4Lease) {}
}
message NetworkConfig {
  string iface = 1;
}

message DhcpV4Lease {
  Ipv4Addr siaddr = 1;
  Ipv4Addr yiaddr = 2;
  uint32 t1 = 3;
  uint32 t2 = 4;
  uint32 lease_time = 5;
  Ipv4Addr srv_id = 6;
  Ipv4Addr subnet_mask = 7;
  optional Ipv4Addr broadcast_addr = 8;
  repeated Ipv4Addr dns_servers = 9;
  repeated Ipv4Addr gateways = 10;
  repeated Ipv4Addr ntp_servers = 11;
  optional uint32 mtu = 12;
  optional string host_name = 13;
  optional string domain_name = 14;
}

message Ipv4Addr {
  bytes v4 = 1;
}